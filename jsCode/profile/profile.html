<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - Animedium</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="profile.css">
    <style>
        .accordion {
          width: 100%;
          max-width: 600px; /* Adjust as needed */
          margin: 20px auto;
          border-radius: 5px;
          overflow: hidden; /* Prevents content from overflowing */
        }
        
        .accordion-item {
          background-color: #f2f2f21c;
          border-bottom: 1px solid #dddddd00;
          cursor: pointer;
        }
        
        .accordion-item:last-child {
          border-bottom: none;
        }
        
        .accordion-item h3 {
          padding: 15px;
          margin: 0;
          font-size: 18px;
          font-weight: bold;
          transition: background-color 0.3s ease; /* Smooth transition */
        }
        
        .accordion-item h3:hover {
          background-color: #e0e0e0;
        }
        
        .accordion-content {
          padding: 15px;
          background-color: #ffffff28;
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease; /* Smooth transition */
        }
        
        .accordion-item.active .accordion-content {
          max-height: 200px; /* Adjust as needed */
        }

        #popup {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
        z-index: 1000; /* Ensure it's on top */
        }

        .popup-content {
        background-color: rgba(255, 255, 255, 0.253);
        margin: 15% auto;
        padding: 20px;
        border-radius: 5px;
        max-width: 400px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .close-button {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
        }

        input[type="text"],
        input[type="email"],
        textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        box-sizing: border-box;
        }

        button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        }

        .dark-theme {
        --bg-color: #151515;
        }
        
        .dark-theme-text {
          --text-color:  #eeeeee;
        }

        #popup {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        #popup-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 300px;
            border-radius: 10px;
            position: relative;
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .profile-card-dark {
          --bg-color: #151515 !important;
        }
        </style>
</head>
<body>
    <header>
      <p id="date-time"></p>
        <nav class="navbar navbar-expand-lg navbar-light" style="padding-left: 45%;">
            <div class="collapse navbar-collapse px-2" id="navbarSupportedContent">
                <a class="nav-link px-2" href="../index.html">Home</a>
                <a class="nav-link px-2" href="../anime-list.html">Anime List</a>
            </div>
        </nav>
        <h1>User Profile</h1>
    </header>

    <main>
        <section class="profile-section">
            <div class="profile-card">
                <form id="myForm" onsubmit="return validateForm()">
                    Name: <input type="text" id="name" name="name"><span id="nameError" class="error"></span><br><br>
                    Email: <input type="email" id="email" name="email"><span id="emailError" class="error"></span><br><br>
                    Age: <input type="number" id="age" name="age" min="18"><span id="ageError" class="error"></span><br><br>
                    <input onclick="openPopup()" type="submit" value="Submit">
                </form>
            </div>
        </section>
    </main>
    <div class="accordion" id="myAccordion">
        <div class="accordion-item">
          <h3>Как зарегестрироваться?</h3>
          <div class="accordion-content">
            <p>Введите логин, почту и ваш возраст</p>
          </div>
        </div>
        <div class="accordion-item">
          <h3>Question 2</h3>
          <div class="accordion-content">
            <p>Answer 2 goes here.  This is some example content for the second accordion item.</p>
          </div>
        </div>
        <div class="accordion-item">
          <h3>Question 3</h3>
          <div class="accordion-content">
            <p>Answer 3 goes here.  This is some example content for the third accordion item.</p>
          </div>
        </div>
      </div>

      <div id="popup" onclick="closePopupOnClickOutside(event)">
          <div id="popup-content" onclick="event.stopPropagation()">
              <span class="close-btn" onclick="closePopup()">&times;</span>
              <p>This is a popup window with rounded corners!</p>
          </div>
      </div>
      
      <button id="theme-toggle">Переключить тему</button>
      <p id="datetime"></p>
    <footer>
        <p>&copy; 2024 Animedium.</p>
        <p>Bexultan Ashenov & Sabitkhanov Askhat</p>
    </footer>
    <script>
        function validateForm() {
          let name = document.getElementById("name").value;
          let email = document.getElementById("email").value;
          let age = document.getElementById("age").value;
          let isValid = true;
        
          document.getElementById("nameError").innerHTML = "";
          document.getElementById("emailError").innerHTML = "";
          document.getElementById("ageError").innerHTML = "";
        
          if (name == "") {
            document.getElementById("nameError").innerHTML = "Name is required";
            isValid = false;
          }
          if (email == "") {
            document.getElementById("emailError").innerHTML = "Email is required";
            isValid = false;
          }
          if (age == "") {
            document.getElementById("ageError").innerHTML = "Age is required";
            isValid = false;
          }
        
          return isValid;
        }
        //
        const accordionItems = document.querySelectorAll('.accordion-item');
        
        accordionItems.forEach(item => {
        item.addEventListener('click', () => {
            item.classList.toggle('active');
            });
        });
        //
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-theme'); 
            body.classList.toggle('dark-theme-text');    
            body.classList.toggle('profile-card-dark');
        });
                //
        const dateTimeElement = document.getElementById("datetime");
        const now = new Date();
        dateTimeElement.textContent = now.toLocaleString();

    function openPopup() {
        document.getElementById("popup").style.display = "block";
    }

    function closePopup() {
        document.getElementById("popup").style.display = "none";
    }

    function closePopupOnClickOutside(event) {
        if (event.target === document.getElementById("popup")) {
            closePopup();
        }
    }

</script>
<script src="../JavaScript.js"></script>

</body>
</html>
